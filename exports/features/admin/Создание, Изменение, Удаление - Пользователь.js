module.exports = function(callback) {
new $Feature('dist/features/admin/Создание, Изменение, Удаление - Пользователь')
.Tag('Создание')
.Tag('Изменение')
.Tag('Удаление')
.Tag('Управление-пользователями')
.Tag('Пользователи')

.Feature('Пользователи')

.Comment('1) Пользователь должен быть создан без ошибок из подсистемы администрирования')
.Comment('<wikilink>')
.Background('Создание', new $Sequence()

.Given('Я логинюсь под пользователем "modifier"')
.Comment('перейти к разделу системы Управление пользователями')
.Comment('@@GotoSection[v1.0.0]')
.When('Я открываю раздел системы "Управление пользователями"')
.Comment('перейти к подразделу системы Пользователи')
.Comment('@@GotoSubsection[v1.0.0]')
.Then('Я выбираю в меню "Пользователи"')
.Then('Я ожидаю, что заголовок содержит "Пользователи"')

.Then('Я нажимаю на кнопку создания')
.And('Я заполняю поле "Фамилия" текстом "Иванов" модального окна')
.And('Я заполняю поле "Имя" текстом "Иван" модального окна')
.And('Я заполняю поле "Отчество" текстом "Иванович" модального окна')
.And('Я заполняю поле "Номер СНИЛС" новым кодом СНИЛС "12324234" модального окна')
.And('Я заполняю поле "Подразделение" текстом "Подразделение" модального окна')

.Comment(' выбор организации пользователя')
.When('Я нажимаю на кнопку с текстом "Нажмите чтобы выбрать" модального окна')
.Then('Я заполняю фильтр "Полное наименование" текстом "Правительство Москвы" модального окна')
.Then('Я выбираю элемент таблицы под номером 1 модального окна')
.Then('Я нажимаю на кнопку выбора модального окна')

.And('Я заполняю поле "Телефон" текстом "1234567890" модального окна')
.And('Я заполняю поле "Должность" текстом "Биг босс" модального окна')
.Comment('And Я кликаю по чекбоксу "Руководитель" модального окна')
.And('Я заполняю поле "Email" уникальным email\'ом "ТЕСТОВЫЙ EMAIL" модального окна')
.And('Я заполняю поле "Логин" уникальным кодом "ПОЛЬЗОВАТЕЛЬ" модального окна')
.And('Я кликаю по чекбоксу "Изменить пароль при следующем входе" модального окна')

.Then('Я переключаюсь на вкладку "Присвоение ролей" модального окна')
.And('Я заполняю поле "Название" текстом "тестовое название" модального окна')
.And('Я заполняю поле "Номер" текстом "666" модального окна')
.And('Я заполняю поле "Срок действия с" текстом "01.01.2017" модального окна')
.And('Я заполняю поле "по" текстом "01.02.2017" модального окна')
.And('Я заполняю поле "Дата документа" текстом "01.01.2017" модального окна')
.And('Я загружаю файл "uploadFiles/test.jpg" в поле "Загрузить документ" модального окна')
.And('Я нажимаю на кнопку с текстом "Добавить роль" модального окна')
.And('Я выбираю элемент таблицы под номером 1 модального окна')
.Then('Я нажимаю на кнопку выбора модального окна')
.Then('Я кликаю по чекбоксу "Для организации" модального окна')

.Then('Я нажимаю на кнопку сохранения модального окна')
.Then('Я нажимаю на кнопку закрытия модального окна')
.Then('Я нажимаю на кнопку закрытия модального окна')

.Then('Я заполняю фильтр "Логин" уникальным кодом "ПОЛЬЗОВАТЕЛЬ"')
.And('Я жду 5 сек.')
.And('Я выбираю элемент таблицы под номером 1')
.Then('Я нажимаю на кнопку с текстом "Изменить пароль"')
.And('Я заполняю поле "Пароль" текстом "Testing666" модального окна')
.And('Я заполняю поле "Подтверждение пароля" текстом "Testing666" модального окна')
.Then('Я нажимаю на кнопку сохранения модального окна')
.Then('Я нажимаю на кнопку закрытия')


.Comment('1) измененные данные пользователя должны сохраниться')
.Comment('2) пользователь должен быть найден по новому логину')
.Comment('<wikilink>')
)
.Scenario('Изменение', new $Sequence()
.Then('Я заполняю фильтр "Логин" уникальным кодом "ЛОГИН"')
.And('Я жду 5 сек.')
.And('Я выбираю элемент таблицы под номером 1')

.Then('Я нажимаю на кнопку редактирования')
.And('Я заполняю поле "Логин" уникальным кодом "НОВЫЙ ЛОГИН" модального окна')
.Then('Я нажимаю на кнопку сохранения модального окна')
.Then('Я нажимаю на кнопку закрытия')

.Then('Я заполняю фильтр "Логин" уникальным кодом "ЛОГИН"')
.And('Я жду 5 сек.')
.Then('Я ожидаю, что в списке будет элементов = 0')

.Then('Я заполняю фильтр "Логин" уникальным кодом "НОВЫЙ ЛОГИН"')
.And('Я жду 5 сек.')
.Then('Я ожидаю, что в списке будет элементов = 1')


.Comment('1) удаление должно завршится без ошибок')
.Comment('2) пользователь не должен находится по логину после удаления')
.Comment('<wikilink>')
)
.Scenario('Удаление', new $Sequence()
.Then('Я заполняю фильтр "Логин" уникальным кодом "ЛОГИН"')
.And('Я жду 5 сек.')
.And('Я выбираю элемент таблицы под номером 1')
.Then('Я нажимаю на кнопку удаления')
.Then('Я нажимаю на кнопку с текстом "Да"')

.Then('Я заполняю фильтр "Логин" уникальным кодом "ЛОГИН"')
.And('Я жду 5 сек.')
.Then('Я ожидаю, что в списке будет элементов = 0')
)
.finalize(callback);
};