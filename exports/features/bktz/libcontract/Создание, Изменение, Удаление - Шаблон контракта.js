module.exports = function(callback) {
new $Feature('dist/features/bktz/libcontract/Создание, Изменение, Удаление - Шаблон контракта')
.Tag('Создание')
.Tag('Удаление')
.Tag('Редактирование')
.Tag('БКТЗ')
.Tag('Библиотека-типовой-документации')
.Tag('Справочник-шаблонов-контрактов')

.Feature('Шаблон контракта')

.Comment('1) шаблон должен быть создан без ошибок')
.Background('Создание', new $Sequence()

.Given('Я логинюсь под пользователем "modifier"')

.Comment('перейти к разделу системы НСИ')
.Comment('@@GotoSection[v1.0.0]')
.When('Я открываю раздел системы "НСИ"')

.Comment('перейти к подразделу системы КПГЗ')
.Comment('@@GotoSubsection[v1.0.0]')
.Then('Я выбираю в меню "Справочник КПГЗ / СПГЗ", "КПГЗ"')
.Then('Я ожидаю, что заголовок содержит "Список КПГЗ"')

.Comment('создать новый КПГЗ')
.Comment('@@CreateNew.KPGZ.blank[v1.0.0]')
.When('Я нажимаю на кнопку создания')
.Then('Я заполняю поле "Наименование КПГЗ" сгенерированным тегом "ТЕСТОВЫЙ КПГЗ"')
.Then('Я выбираю в поле с выпадающим списком "Вышестоящий КПГЗ"')
.Then('Я выбираю в поле с выпадающим списком "Код ОКПД"')
.Then('Я выбираю значение "05.1 Уголь" в поле с выпадающим списком "Код ОКПД-2"')
.And('Я сохраняю новый КПГЗ')
.Then('Я ожидаю, что заголовок содержит "Информация о КПГЗ"')

.Comment('перейти к разделу системы Библиотека типовой документации')
.Comment('@@GotoAnotherSection[v1.0.0]')
.When('Я перехожу на главную страницу')
.Then('Я открываю раздел системы "Библиотека типовой документации"')

.Comment('перейти к подразделу системы Справочник шаблонов контрактов')
.Comment('@@GotoSubsection[v1.0.0]')
.Then('Я выбираю в меню "Библиотека типовой документации", "Справочник шаблонов контрактов"')
.Then('Я ожидаю, что заголовок содержит "Список шаблонов контрактов"')

.Then('Я нажимаю на кнопку создания')
.When('Я ожидаю, что заголовок содержит "Создание шаблона контракта"')
.Then('Я заполняю поле "Наименование" сгенерированным тегом "ТЕСТОВЫЙ ШАБЛОН КОНТРАКТА"')
.And('Я выбираю в поле с выпадающим списком "Тип шаблона"')
.And('Я выбираю сгенерированный тег "ТЕСТОВЫЙ КПГЗ" в поле с выпадающим списком "КПГЗ"')
.And('Я выбираю в поле с выпадающим списком "Преамбула"')
.And('Я выбираю в поле с выпадающим списком "Предмет Контракта"')
.And('Я выбираю в поле с выпадающим списком "Цена Контракта и порядок расчетов"')
.And('Я выбираю в поле с выпадающим списком "Сроки поставки"')
.And('Я выбираю в поле с выпадающим списком "Права и обязанности сторон"')
.And('Я выбираю в поле с выпадающим списком "Ответственность сторон"')
.And('Я выбираю в поле с выпадающим списком "Порядок расторжения, изменения контракта"')
.And('Я выбираю в поле с выпадающим списком "Обеспечение исполнения контракта"')
.And('Я выбираю в поле с выпадающим списком "Обстоятельства непреодолимой силы"')
.And('Я выбираю в поле с выпадающим списком "Порядок урегулирования споров"')
.And('Я выбираю в поле с выпадающим списком "Срок действия контракта"')
.And('Я выбираю в поле с выпадающим списком "Адреса и реквизиты сторон"')
.And('Я нажимаю на кнопку сохранения')
.Then('Я ожидаю, что заголовок содержит "Информация о шаблоне контракта"')

.Comment('1) шаблон должен находится по наименованию')
.Comment('2) шаблон должен удалятся без ошибок')
.Comment('https://wiki.proitr.ru/pages/viewpage.action?pageId=126192574')
)
.Scenario('Удаление', new $Sequence()

.Comment('перейти к подразделу системы Справочник блоков')
.Comment('@@GotoSubsection[v1.0.0]')
.Then('Я выбираю в меню "Библиотека типовой документации", "Справочник шаблонов контрактов"')
.Then('Я ожидаю, что заголовок содержит "Список шаблонов контрактов"')

.When('Я заполняю фильтр "Наименование" сгенерированным тегом "ТЕСТОВЫЙ ШАБЛОН КОНТРАКТА"')
.And('Я жду 5 сек.')
.Then('Я ожидаю, что в списке будет элементов = 1')

.When('Я выбираю элемент таблицы под номером 1')
.And('Я нажимаю на кнопку удаления')
.And('Я нажимаю на кнопку подтверждения')
.And('Я жду 5 сек.')
.Then('Я ожидаю, что в списке будет элементов = 0')

.Comment('1) наименование блока контракта должно изменится')
.Comment('2) блок не должен находится по старому наименованию')
.Comment('3) блок должен находится по новому наименованию')
.Comment('https://wiki.proitr.ru/pages/viewpage.action?pageId=126192574')
)
.Scenario('Изменение', new $Sequence()
.Comment('перейти к подразделу системы Список шаблонов контрактов')
.Comment('@@GotoSubsection[v1.0.0]')
.Then('Я выбираю в меню "Библиотека типовой документации", "Справочник шаблонов контрактов"')
.Then('Я ожидаю, что заголовок содержит "Список шаблонов контрактов"')

.When('Я заполняю фильтр "Наименование" сгенерированным тегом "ТЕСТОВЫЙ ШАБЛОН КОНТРАКТА"')
.Then('Я ожидаю, что в списке будет элементов = 1')
.Then('Я нажимаю на сгенерированную ссылку "ТЕСТОВЫЙ ШАБЛОН КОНТРАКТА"')
.When('Я ожидаю, что заголовок содержит "Информация о шаблоне контракта"')
.Then('Я нажимаю на кнопку редактирования')
.And('Я заполняю поле "Наименование" сгенерированным тегом "ИЗМЕНЕННЫЙ ТЕСТОВЫЙ ШАБЛОН КОНТРАКТА"')
.And('Я нажимаю на кнопку сохранения')
.Then('Я нажимаю на кнопку закрытия')

.Comment('перейти к подразделу системы Справочник шаблонов контрактов')
.Comment('@@GotoSubsection[v1.0.0]')
.Then('Я выбираю в меню "Библиотека типовой документации", "Справочник шаблонов контрактов"')
.Then('Я ожидаю, что заголовок содержит "Список шаблонов контрактов"')

.When('Я заполняю фильтр "Наименование" сгенерированным тегом "ТЕСТОВЫЙ ШАБЛОН КОНТРАКТА"')
.And('Я жду 5 сек.')
.Then('Я ожидаю, что в списке будет элементов = 0')

.When('Я заполняю фильтр "Наименование" сгенерированным тегом "ИЗМЕНЕННЫЙ ТЕСТОВЫЙ ШАБЛОН КОНТРАКТА"')
.And('Я жду 5 сек.')
.Then('Я ожидаю, что в списке будет элементов = 1')
)
.finalize(callback);
};